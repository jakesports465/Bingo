<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DanQ Bingo Card</title>
  <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Anton', sans-serif;
      background: linear-gradient(135deg, #1c1c1c, #2a2a2a);
      color: #fff;
      text-align: center;
      margin: 0;
      padding: 2em;
    }

    h1 {
      font-size: 2.5em;
      margin-bottom: 1em;
      color: #ffffff;
      text-shadow: 2px 2px 4px #000;
    }

    .card {
      margin: 0 auto;
      display: inline-block;
    }

    table {
      border-collapse: separate;
      border-spacing: 6px;
      background-color: rgba(255, 255, 255, 0.05);
      box-shadow: 0 0 30px rgba(0,0,0,0.5);
    }

    td {
      width: 100px;
      height: 100px;
      border: 2px solid #e0e0e0;
      text-align: center;
      vertical-align: middle;
      font-size: 14px;
      padding: 10px;
      cursor: pointer;
      background: linear-gradient(to bottom, #2a2a2a, #3b3b3b);
      color: #d4e6f4;
      border-radius: 10px;
      box-shadow: inset -2px -2px 6px rgba(255,255,255,0.1), inset 2px 2px 6px rgba(0,0,0,0.6);
      transition: all 0.3s ease;
      word-wrap: break-word;
    }

    td:hover {
      background: linear-gradient(to bottom, #384b5f, #2e3f52);
    }

    td.marked {
      background: linear-gradient(to bottom, #3a8dd0, #2a6ba5) !important;
      color: #ffffff;
      font-weight: bold;
      box-shadow: inset -2px -2px 6px rgba(255,255,255,0.1), inset 2px 2px 6px rgba(0,0,0,0.7);
    }

    .free {
      background: linear-gradient(to bottom, #3a8dd0, #2a6ba5) !important;
      color: #ffffff;
      font-weight: bold;
      box-shadow: inset -2px -2px 6px rgba(255,255,255,0.1), inset 2px 2px 6px rgba(0,0,0,0.7);
    }
  </style>
</head>
<body>
  <h1>DanQ8000 Stream Bingo</h1>
  <div id="cards"></div>

  <script>
    const defaultOptions = [
      "70s or 80s mentioned by John",
      "Sports mentioned by Jake",
      "Fox answers for Dan",
      "John says \"Dan Rocks\"",
      "Jake mentions having a meeting",
      "Beer mentioned by John",
      "Dan shrieks",
      "What game is this?",
      "What difficulty is this?",
      "Someone in chat complains about the team Dan chose",
      "Super Chat Sent",
      "Member gifted",
      "John has a typo",
      "Ham is meat",
      "You know they dead",
      "Oh wow appreciate the...",
      "Nipples mentioned by Dan",
      "PB&J mentioned by John",
      "Dan does an English accent",
      "John shares a life story",
      "Someone in chat says they found Dan through KOTOR",
      "What would you rate this game?",
      "Someone sends a no context message",
      "Dan quotes random movie",
      "No early access?",
      "Dan are you going to play 'X' game?",
      "Dan gets scared",
      "Someone doesn't understand time zones",
      "Dan sings a song",
      "John is behind in stream",
      "Someone keeps asking same question",
      "Member goal reached",
      "One of Dan's cats appears/mentioned on stream",
      "Dan wearing Oilers gear",
      "Nightbot warns someone for using all caps",
      "Dan adjusts the graphics settings more than once",
      "What is this game about?",
      "Someone tells Dan/chat about their day unprompted",
      "It's my birthday",
      "Its some random persons birthday",
      "Someone asks Dan to play a game he already has",
      "Dan makes a pun"
    ];

    function createCard(words) {
      const selected = words.slice(0, 24);
      let i = 0;
      let table = '<table>';
      for (let r = 0; r < 5; r++) {
        table += '<tr>';
        for (let c = 0; c < 5; c++) {
          if (r === 2 && c === 2) {
            table += '<td class="free">FREE</td>';
          } else {
            table += `<td onclick="this.classList.toggle('marked')">${selected[i++]}</td>`;
          }
        }
        table += '</tr>';
      }
      table += '</table>';
      return `<div class="card">${table}</div>`;
    }

    function getUserDailySeed() {
      const today = new Date().toISOString().slice(0, 10);
      const key = `bingo-seed-${today}`;
      let seed = localStorage.getItem(key);
      if (!seed) {
        seed = Math.floor(Math.random() * 1000000000);
        localStorage.setItem(key, seed);
      }
      return parseInt(seed, 10);
    }

    function seededShuffle(array, seed) {
      let random = mulberry32(seed);
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function mulberry32(a) {
      return function() {
        var t = a += 0x6D2B79F5;
        t = Math.imul(t ^ t >>> 15, t | 1);
        t ^= t + Math.imul(t ^ t >>> 7, t | 61);
        return ((t ^ t >>> 14) >>> 0) / 4294967296;
      }
    }

    function generateDailyCard() {
      const seed = getUserDailySeed();
      const words = [...defaultOptions];
      seededShuffle(words, seed);
      const html = createCard(words);
      document.getElementById('cards').innerHTML = html;
    }

    window.onload = generateDailyCard;
  </script>
</body>
</html>
